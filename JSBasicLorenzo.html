<!DOCTYPE html>
<html>
    <head>
        <script type="text/javascript"></script>
    </head>
    <body
        style="
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
        "
    >
        <div>
            <center>
                <script type="text/javascript">
                    var name = window.prompt('Enter name: ');
                    document.write(
                        '<h1>Age Calculator with Zodiac Identifier</h1>'
                    );
                    document.write('<h2>Welcome ' + name + '!</h2>');

                    const yrNow = parseInt(new Date().getFullYear());
                    const dateNow = parseInt(new Date().getDate());
                    const monthNow = parseInt(new Date().getMonth());

                    const month30 = [3, 5, 8, 10];

                    function printResults() {
                        var results = document.getElementById('results');
                        var dateString =
                            document.getElementById('birthdayInput').value;
                        var bDate = new Date(dateString);
                        var bYear = parseInt(bDate.getFullYear());
                        var bMonth = parseInt(bDate.getMonth() - 1);
                        var bDay = parseInt(bDate.getDate());

                        results.innerHTML =
                            'You are ' +
                            Math.floor(parseInt(ageDays()) / 365) +
                            ' years and ' +
                            (parseInt(ageDays(bYear, bMonth, bDay)) % 365) +
                            ' days old.\n' +
                            'There are ' +
                            daysToBday(bMonth, bDay) +
                            ' days left till your birthday.\n' +
                            'Your zodiac is ' +
                            zodiac(bMonth, bday) +
                            '.';
                    }

                    function ageDays(bYear, bMonth, bDay) {
                        var daysCurYr = 0 + dateNow;
                        var daysBdayYr = 0 - bDay;
                        var yrDiff = yrNow - bYear - 1;
                        var lpYrs = 0;

                        // Total days before a given month
                        for (i = 0; i < monthNow; i++) {
                            if (month30.includes(i)) {
                                daysCurYr += 30;
                            } else if (i == 2) {
                                daysCurYr += 28;
                            } else {
                                daysCurYr += 31;
                            }
                        }

                        // Total days after birth until end of year.
                        for (x = bMonth; x < 12; x++) {
                            if (month30.includes(x)) {
                                daysBdayYr += 30;
                            } else if (x == 2) {
                                daysBdayYr += 28;
                            } else {
                                daysBdayYr += 31;
                            }
                        }

                        // Count extra leap year days
                        for (j = yrNow; j >= bYear; j--) {
                            if (j % 4 == 0) {
                                lpYrs++;
                            }
                        }

                        return yrDiff * 365 + daysBdayYr + daysCurYr + lpYrs;
                    }

                    function daysToBday(bMonth, bDay) {
                        var daysBdayYr = 0 + bDay;
                        var daysCurYr = 0 - dateNow;
                        var isLeapYear = 0;

                        // Total days before birthdate
                        for (i = 0; i < bMonth; i++) {
                            if (month30.includes(i)) {
                                daysBdayYr += 30;
                            } else if (i == 2) {
                                daysBdayYr += 28;
                            } else {
                                daysBdayYr += 31;
                            }
                        }

                        // Total days after current date until end of the year.
                        for (x = monthNow; x < 12; x++) {
                            if (month30.includes(x)) {
                                daysCurYr += 30;
                            } else if (x == 2) {
                                daysCurYr += 28;
                            } else {
                                daysCurYr += 31;
                            }
                        }

                        if (yrNow % 4 == 0) {
                            isLeapYear = 1;
                        }

                        return daysCurYr + daysBdayYr + isLeapYear;
                    }

                    function zodiac(bMonth, bDay) {
                        if (
                            (bMonth == 0 && bDay >= 20) ||
                            (bMonth == 1 && bDay <= 18)
                        ) {
                            return 'Aquarius';
                        } else if (
                            (bMonth == 1 && bDay >= 19) ||
                            (bMonth == 2 && bDay <= 20)
                        ) {
                            return 'Pisces';
                        } else if (
                            (bMonth == 2 && bDay >= 21) ||
                            (bMonth == 3 && bDay <= 19)
                        ) {
                            return 'Aries';
                        } else if (
                            (bMonth == 3 && bDay >= 20) ||
                            (bMonth == 4 && bDay <= 20)
                        ) {
                            return 'Taurus';
                        } else if (
                            (bMonth == 4 && bDay >= 21) ||
                            (bMonth == 5 && bDay <= 20)
                        ) {
                            return 'Gemini';
                        } else if (
                            (bMonth == 5 && bDay >= 21) ||
                            (bMonth == 6 && bDay <= 22)
                        ) {
                            return 'Cancer';
                        } else if (
                            (bMonth == 6 && bDay >= 23) ||
                            (bMonth == 7 && bDay <= 22)
                        ) {
                            return 'Leo';
                        } else if (
                            (bMonth == 7 && bDay >= 23) ||
                            (bMonth == 8 && bDay <= 22)
                        ) {
                            return 'Virgo';
                        } else if (
                            (bMonth == 8 && bDay >= 23) ||
                            (bMonth == 9 && bDay <= 22)
                        ) {
                            return 'Libra';
                        } else if (
                            (bMonth == 9 && bDay >= 23) ||
                            (bMonth == 10 && bDay <= 21)
                        ) {
                            return 'Scorpio';
                        } else if (
                            (bMonth == 10 && bDay >= 22) ||
                            (bMonth == 11 && bDay <= 21)
                        ) {
                            return 'Sagittarius';
                        } else if (
                            (bMonth == 11 && bDay >= 22) ||
                            (bMonth == 0 && bDay <= 19)
                        ) {
                            return 'Capricorn';
                        }
                    }
                </script>
                <form>
                    <h4>
                        Enter your birthdate below <br />
                        to compute for your age in years and days.<br />
                        We'll also throw in your zodiac sign for fun.
                    </h4>
                    <input id="birthdayInput" type="date" / > <input
                    type="button" value="Calculate" onclick="printResults()" / >
                    <h3 id="results"></h3>
                </form>
            </center>
        </div>
    </body>
</html>
